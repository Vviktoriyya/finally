<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Title</title>
    <link href="./output.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Unica+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500&display=swap" rel="stylesheet">
    <style>
        html, body {
            overflow: scroll; /* Дозволяє прокручування */
            scrollbar-width: none; /* Для Firefox - ховає скролл бар */
        }

        ::-webkit-scrollbar {
            display: none; /* Для Chrome, Safari та Edge - ховає скролл бар */
        }

    </style>
</head>
<body>
<div class="w-full mx-auto pt-[60px] px-[20px] sm:px-[50px] md:px-[50px] lg:px-[110px] xxl:px-[170px] ">


    <div class="header flex justify-between  ">
        <div class="logo flex justify-between items-center gap-[12px] ">
            <img src="./icon/BookLogoOpen.png" class="w-[26px] h-[22px]">
            <p class="font-unica text-[20px]">BOOKStore</p>
        </div>
        <div class="buttons flex gap-[20px]">
            <button id="openSavedModal" >
                <img src="./icon/SaveChoose.png" class="w-[16px] h-[23px]">
            </button>
            <button><img src="./icon/SHOPPINGCART.png" class="w-[27px] h-[24px]"></button>
        </div>
    </div>

    <div id="modal-container"></div>

    <div class="flex lg:justify-between justify-center relative  ">
        <div class="Preview sm:pt-[71px]   sm:px-0 ">
            <div class="relative pt-[97px]  w-full sm:w-fit ">
                <h1 class="text-gray w-[271px] sm:w-[481px] leading-[1.2] font-syne text-[36px] sm:text-[64px] font-medium z-10 relative">
                    What book you looking for?
                </h1>

                <div class="pt-[18px] z-10 relative">
                    <p class="text-lightGray w-full sm:w-[330px] text-[14px] sm:text-[16px] font-syne font-medium">
                        Explore our catalog and find your next read.
                    </p>
                </div>

                <img src="./img/book.gif" alt="Book Icon" class="absolute md:left-[364px] md:top-[160px] w-[100px] h-[100px] sm:left-[350px] sm:top-[150px]  xs:left-[200px] xs:top-[130px] xs:w-[60px] xs:h-[60px] sm:w-[141px] sm:h-[141px]  z-0" />
            </div>

            <div class="relative w-full sm:w-[530px] pt-[34px]   flex items-center ">
                <div class="absolute  left-0 right-0 bg-[#FDBF0F] bottom-[-10px] h-[42px] rounded-[20px] z-[-1]"></div>

                <input   id="searchInput" type="search"  class="text-gray relative right-[4px]  font-syne h-[42px] border-[2px] border-gray-300 px-[20px] py-[13px] rounded-[20px] text-[14px] focus:outline-none focus:ring-2 focus:ring-blue-500 w-full pr-[40px] placeholder:text-gray placeholder:font-[400]" placeholder="Type the name of book or author...">

                <button class="flex items-center justify-between">
                    <img src="./icon/find.png" alt="Search" class="w-[18px] h-[18px] absolute right-[23px]">
                </button>
            </div>

            <div class="flex justify-between items-center  pt-[34px]">
                <div class="relative flex flex-col lg:flex-row justify-center items-center w-full lg:justify-between md:gap-[24px] ">
                    <div class="flex gap-[20px]">
                        <a id="find-btn" href="#find" class="relative w-full xs:w-[103px] h-[51px] flex items-center justify-center gap-[20px] border-[2px] px-[27px] py-[16px] bg-yellow rounded-[10px] border-gray-800">
                            <p class="text-gray text-[16px] font-syne">Find</p>
                            <img src="./icon/find.png" class="w-[24px] h-[19px]">
                        </a>
                        <a href="#popular" class="relative w-full sm:w-[153px] h-[51px] flex items-center justify-center gap-[20px] border-[2px] px-[27px] py-[16px]   bg-yellow rounded-[10px] border-gray-800">
                            <p  class="text-gray text-[16px] font-syne ">Explore </p>
                            <img src="./icon/Binoculars.png" class="w-[24px] h-[19px]">
                        </a>

                    </div>

                    <div class="w-full flex justify-center py-[25px]">
                        <div class="w-full border-b-2 border-dashed border-lightGray"></div>
                    </div>
                </div>

            </div>
        </div>
        <div class="relative pt-[105px] hidden lg:block   ">
            <!-- Голуба фігура -->
            <div class="absolute xl:top-[70px] lg:top-[129px] right-[43px] xxl:w-[484px] xxl:h-[503px] xl:w-[384px] xl:h-[403px] lg:w-[284px] lg:h-[303px] bg-customBlue rounded-custom z-[-1]">
            </div>

            <!-- Зображення -->
            <img src="./img/photo.jpg" class="relative  xl:top-0 lg:top-[60px] xxl:w-[484px] xxl:h-[503px] xl:w-[384px] xl:h-[403px] lg:w-[284px] lg:h-[303px]">
        </div>
    </div>
    <section id="popular" class=" pt-[220px]">
        <div id="search-results-wrapper" class="pt-[50px] pb-[100px] hidden">
            <div class="flex flex-col items-center justify-center gap-[10px]">
                <p class="text-[36px] font-[400] font-unica text-gray leading-[1.2]">Search Results</p>
                <div class="flex gap-[9px]">
                    <img src="./icon/Start.png" class="w-[16px] h-[16px]">
                    <p class="text-[14px] font-syne font-[400] leading-[1.2] text-lightGray">Drag to explore</p>
                </div>
            </div>
            <div class="flex justify-center items-center pt-[30px]">
                <div id="search-results" class="w-full h-[410px] border-2 border-dashed overflow-x-auto border-gray-400 rounded-[20px] px-4 flex justify-around items-center">
                    <div class="flex min-w-max gap-[100px]"></div>
                </div>
            </div>
        </div>
        <div class="flex flex-col items-center justify-center gap-[10px]">
            <p class="text-[36px] font-[400] font-unica text-gray leading-[1.2]">Trending Books</p>
            <div class="flex gap-[9px]">
                <img src="./icon/Start.png" class="w-[16px] h-[16px]">
                <p class="text-[14px] font-syne font-[400] leading-[1.2] text-lightGray">Drag to explore</p>
            </div>
        </div>
        <div class="flex justify-center items-center pt-[30px] ">
            <div id="books" class="w-full h-[410px] border-2 border-dashed overflow-x-auto border-gray-400 rounded-[20px] px-4 flex justify-around items-center">
                <div class="flex min-w-max gap-[100px]">
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                </div>
            </div>
        </div>
        <div class="pt-[200px]">
            <div class="flex items-center gap-[10px]">
                <img src="./icon/FOLDER_NOTCH_OPEN.png" class="w-[28px] h-[21px]">
                <p class="text-[36px] text-gray font-unica leading-[1.2] font-[400]">Categories</p>
            </div>
            <div id="category-list-container" class="relative mt-10">
                <div class="relative mt-10 overflow-hidden">
                    <div class="relative h-[220px] w-full">
                        <!-- Кнопки навігації -->
                        <button id="prev-btn" class="absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 bg-black text-white p-2 rounded-full shadow-md hover:bg-gray-800 z-10 w-10 h-10 flex items-center justify-center">
                            ←
                        </button>

                        <!-- Контейнер слайдера -->
                        <div id="category-list-wrapper" class="h-full mx-12 sm:mx-16 md:mx-20 overflow-hidden">
                            <div id="category-list" class="grid pr-[15px] grid-cols-1 sm:grid-cols-2 xl:grid-cols-2 grid-rows-2 gap-x-4 gap-y-6 sm:gap-x-6 md:gap-x-8 xl:gap-y-4 h-full transition-transform">
                                <!-- Категорії жанрів будуть додаватися тут -->
                            </div>
                        </div>


                        <button id="next-btn" class="absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 bg-black text-white p-2 rounded-full shadow-md hover:bg-gray-800 z-10 w-10 h-10 flex items-center justify-center">
                            →
                        </button>
                    </div>
                </div>



            </div>


            <!-- Контейнер для відображення книг -->
            <div id="books-container" class="mt-10">
                <!-- Тут будуть книги, що відображаються в залежності від категорії -->
            </div>

            <div id="books-display">
                <div class="flex min-w-max gap-[100px]">
                    <!-- Тут будуть додаватися картки книг -->
                </div>
            </div>


        </div>





        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const genreButtons = document.querySelectorAll('.genre-button');
                const bookSections = document.querySelectorAll('[id$="-books"]');

                genreButtons.forEach(button => {
                    button.addEventListener('click', function(event) {
                        event.preventDefault();

                        const genre = this.dataset.genre;
                        const targetId = `${genre}-books`;
                        const targetSection = document.getElementById(targetId);



                        // Приховуємо всі розділи з книгами
                        bookSections.forEach(section => {
                            section.classList.add('hidden', 'opacity-0');
                        });

                        // Показуємо обраний розділ
                        if (targetSection) {
                            targetSection.classList.remove('hidden');
                            setTimeout(() => {
                                targetSection.classList.add('opacity-100');
                            }, 50);
                            targetSection.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });

                // Приховуємо всі розділи з книгами при завантаженні сторінки
                bookSections.forEach(section => {
                    section.classList.add('hidden', 'opacity-0');
                });
            });
            // Динамічно підключаємо модалку
            fetch('./modal.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('modal-container').innerHTML = html;
                    initializeModal(); // ініціалізація функцій для відкриття та закриття модалки
                });

            function initializeModal() {
                const openSavedModalButton = document.getElementById('openSavedModal');
                const savedModal = document.getElementById('savedModal');
                const closeModalButton = document.getElementById('closeModal');
                const savedBooksList = document.getElementById('savedBooksList');

                openSavedModalButton.addEventListener('click', () => {
                    savedModal.classList.remove('hidden');
                });

                closeModalButton.addEventListener('click', () => {
                    savedModal.classList.add('hidden');
                });

                // Завантаження списку книг з localStorage
                loadSavedBooks();

                // Додавання нової книги
                const saveButton = document.querySelector('.infoBook button');
                saveButton.addEventListener('click', () => {
                    const bookImg = document.getElementById('book-img').src;
                    const bookTitle = document.getElementById('book-title').innerText;
                    const bookAuthor = document.getElementById('book-author').innerText;
                    const bookPrice = document.getElementById('book-price').innerText;

                    const bookData = {
                        img: bookImg,
                        title: bookTitle,
                        author: bookAuthor,
                        price: bookPrice,
                        quantity: 1 // додаємо кількість книги
                    };

                    // Перевірка на вже існуючу книгу в localStorage
                    let savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];

                    // Перевіряємо чи є така книга в списку
                    const existingBook = savedBooks.find(book => book.title === bookTitle);

                    if (existingBook) {
                        // Якщо книга вже є в списку, збільшуємо кількість
                        existingBook.quantity++;
                    } else {
                        // Якщо книги немає в списку, додаємо нову
                        savedBooks.push(bookData);
                    }

                    // Збереження оновленого списку книг в localStorage
                    localStorage.setItem('savedBooks', JSON.stringify(savedBooks));

                    // Оновлення списку в модалці після додавання
                    loadSavedBooks();
                });
            }

            function loadSavedBooks() {
                const savedBooksList = document.getElementById('savedBooksList');
                const savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];

                // Очищаємо список перед оновленням
                savedBooksList.innerHTML = '';

                if (savedBooks.length === 0) {
                    savedBooksList.innerHTML = '<p>Список порожній</p>';
                } else {
                    savedBooks.forEach(book => {
                        const bookElement = document.createElement('div');
                        bookElement.classList.add('flex', 'gap-[20px]', 'p-[10px]', 'mb-2');

                        bookElement.innerHTML = `
<div class="border-gray pb-[40px] flex lg:p-[26px] xs:p-[10px] border-2 border-dashed rounded-[20px] lg:w-[416px] xs:w-[300px] h-[200px]">
    <div class="book border-2 rounded-[20px] lg:max-w-[103px] lg:h-[150px] xs:h-[114px] xs:max-w-[93px] bg-gray-300">
        <img src="${book.img}" alt="Book cover" class="rounded-[18px] lg:h-full xs:h-[110px] lg:max-w-[100px] xs:max-w-[90px]" />
    </div>
    <div class="flex flex-col">
        <div class="flex lg:gap-[40px] xs:gap-[15px] text-start">
            <div class="flex flex-col lg:gap-[12px] xs:gap-[6px]">
                <p class="flex pl-[31px] text-gray lg:text-[16px] xs:text-[14px] font-[400] leading-[1.2] font-syne">${book.title}</p>
                <p class="flex pl-[31px]  text-gray lg:text-[12px] xs:text-[9px] font-[400] leading-[1.2] font-syne">${book.author}</p>
            </div>
            <div class="text-Orange text-[24px] font-[400] font-syne leading-[1.2]">
                ${book.price}
            </div>
        </div>
        <div class="flex justify-end flex-col h-full lg:pt-[20px] xs:pt-[5px] ">
            <div class="flex justify-between lg:gap-[150px] xs:gap-[60px]">
                <div class="flex relative items-center w-full lg:pl-[31px] xs:pl-[10px] lg:h-[35px] xs:h-[15px] lg:gap-[12px] xs:gap-[7px]">
                    <button class="decreaseQuantity xs:max-w-[15px]">
                        <img src="./icon/MINUS_CIRCLE.png" class="lg:w-[16px] xs:w-[40px] h-[16px]">
                    </button>
                    <div class="flex xs:max-w-[30px] lg:max-w-[80px] leading-[1.2] justify-center items-center w-[52px] lg:h-[35px] xs:h-[25px] border-2 rounded-[10px] border-gray lg:text-[18px] xs:text-[13px] font-syne font-[400] text-gray">
                        ${book.quantity}
                    </div>
                    <button class="increaseQuantity xs:max-w-[15px]">
                        <img src="./icon/PLUS_CIRCLE.png" class="lg:w-[16px] xs:w-[40px] h-[16px]">
                    </button>
                    <button class="flex items-end removeBook lg:pl-[80px] xs:pl-0 ">
                        <img src="./icon/TRASH.png" class="w-[30px] h-[32px]">
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>`;

                        // Додавання елементу в список
                        savedBooksList.appendChild(bookElement);

                        // Додавання функції для видалення книги
                        const removeButton = bookElement.querySelector('.removeBook');
                        removeButton.addEventListener('click', () => {
                            const index = savedBooks.indexOf(book);
                            if (index > -1) {
                                savedBooks.splice(index, 1);
                                localStorage.setItem('savedBooks', JSON.stringify(savedBooks));
                                loadSavedBooks(); // Оновлюємо список
                            }
                        });

                        // Додавання функцій для зміни кількості
                        const increaseButton = bookElement.querySelector('.increaseQuantity');
                        const decreaseButton = bookElement.querySelector('.decreaseQuantity');

                        increaseButton.addEventListener('click', () => {
                            book.quantity++;
                            updateBookQuantity(book);
                            loadSavedBooks(); // Оновлюємо список після зміни кількості
                        });

                        decreaseButton.addEventListener('click', () => {
                            if (book.quantity > 1) {
                                book.quantity--;
                                updateBookQuantity(book);
                                loadSavedBooks(); // Оновлюємо список після зміни кількості
                            }
                        });
                    });
                }
            }

            function updateBookQuantity(book) {
                let savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];
                const bookIndex = savedBooks.findIndex(savedBook => savedBook.title === book.title);
                if (bookIndex > -1) {
                    // Перевірка на undefined або null
                    if (savedBooks[bookIndex].quantity === undefined || savedBooks[bookIndex].quantity === null) {
                        savedBooks[bookIndex].quantity = 1;
                    }
                    savedBooks[bookIndex].quantity = book.quantity;
                    localStorage.setItem('savedBooks', JSON.stringify(savedBooks));
                }
            }


        </script>


    </section>
    <section class="pt-[220px] w-full">
        <div>

                <div class="w-full border-b-2 border-dashed border-lightGray"></div>

            <div class="pt-[44px] flex md:justify-between items-center gap-[24px] justify-center pb-[100px] flex-col sm:flex-row  sm:items-center">
                <p class="text-[20px] font-syne font-[400] text-lightGray leading-[1.2] mb-4 sm:mb-0">BookStore Project</p>
                <div class="flex gap-[24px]  flex-row items-start">
                    <a href="https://www.linkedin.com/in/%D0%B2%D1%96%D0%BA%D1%82%D0%BE%D1%80%D1%96%D1%8F-%D1%82%D0%BE%D0%BB%D1%81%D1%82%D0%B0%D1%8F-11038a356/" class="relative block w-[48px] h-[48px]">
                        <div class="flex justify-center items-center w-[48px] h-[48px] border-2 border-lightGray rounded-[100px] z-10 bg-white">
                            <img src="./icon/LINKEDINLOGO.png" class="w-[23px] h-[23px] ">
                        </div>
                        <div class="absolute top-[5px] left-[4px] w-[48px] h-[48px] bg-sky-500 rounded-[100px] -z-10"></div>
                    </a>

                    <a href="https://github.com/Vviktoriyya" class="relative block w-[48px] h-[48px]">
                        <div class="flex justify-center items-center w-[48px] h-[48px] border-2 border-lightGray rounded-[100px] z-10 bg-white">
                            <img src="./icon/GITHUBLOGO.png" class="w-[22px] h-[25px] ">
                        </div>
                        <div class="absolute top-[5px] left-[4px] w-[48px] h-[48px] bg-sky-500 rounded-[100px] -z-10"></div>
                    </a>

                    <a href="https://www.figma.com/design/8GbCwAfp9NLq1zWIAgZPpo/BookStore--Short-Project---Community-?node-id=63-2407&p=f&t=KYnPaKQ8ZJHXLu4e-0" class="relative block w-[48px] h-[48px]">
                        <div class="flex justify-center items-center w-[48px] h-[48px] border-2 border-lightGray rounded-[100px] z-10 bg-white">
                            <img src="./icon/FIGMALOGO.png" class="w-[17px] h-[26px] ">
                        </div>
                        <div class="absolute top-[5px] left-[4px] w-[48px] h-[48px] bg-sky-500 rounded-[100px] -z-10"></div>
                    </a>
                </div>
                <p class="text-[20px] font-syne font-[400] text-lightGray leading-[1.2] mt-4 sm:mt-0">by viktoriya tolstaya</p>
            </div>
            </div>

    </section>


</div>

<script src="./app.js"></script>
</body>
</html>