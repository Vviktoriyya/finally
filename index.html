<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Title</title>
    <link href="./output.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Unica+One&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500&display=swap" rel="stylesheet">
    <style>
        html, body {
            overflow: scroll; /* Дозволяє прокручування */
            scrollbar-width: none; /* Для Firefox - ховає скролл бар */
        }

        /*::-webkit-scrollbar {
            display: none; /* Для Chrome, Safari та Edge - ховає скролл бар
        }*/
        * {
            box-sizing: border-box;
        }

        .scrollAuthor{
            overflow: scroll; /* Дозволяє прокручування */
            scrollbar-width: none;
            max-height: 40px;
            max-width: 100px;
        }
        .scrollName{
            overflow: scroll; /* Дозволяє прокручування */
            scrollbar-width: none;
            max-height: 40px;
            max-width: 90px;
        }
        #modalOverlay1 {
            background-color: rgba(0, 0, 0, 0.62); /* Прозорий чорний з 62% непрозорістю */
        }

    </style>
</head>
<body>
<div class="w-full mx-auto pt-[60px] px-[20px] sm:px-[50px] md:px-[50px] lg:px-[110px] xxl:px-[170px] ">


    <div class="header flex justify-between  ">
        <div class="logo flex justify-between items-center gap-[12px] ">
            <img src="./icon/BookLogoOpen.png" class="w-[26px] h-[22px]">
            <p class="font-unica text-[20px]">BOOKStore</p>
        </div>
        <div class="buttons flex gap-[20px]">
            <button id="openSavedModal" >
                <img src="./icon/SaveChoose.png" class="w-[16px] h-[23px]">
            </button>
            <button id="openCartModal" class="open-cart-button">
                <img src="./icon/SHOPPINGCART.png" class="w-[27px] h-[24px]">
            </button>
        </div>
    </div>

    <div id="modal-container"></div>

    <div class="flex lg:justify-between justify-center relative  ">
        <div class="Preview sm:pt-[71px]   sm:px-0 ">
            <div class="relative pt-[97px]  w-full sm:w-fit ">
                <h1 class="text-gray w-[271px] sm:w-[481px] leading-[1.2] font-syne text-[36px] sm:text-[64px] font-medium z-10 relative">
                    What book you looking for?
                </h1>

                <div class="pt-[18px] z-10 relative">
                    <p class="text-lightGray w-full sm:w-[330px] text-[14px] sm:text-[16px] font-syne font-medium">
                        Explore our catalog and find your next read.
                    </p>
                </div>

                <img src="./img/book.gif" alt="Book Icon" class="absolute md:left-[364px] md:top-[160px] w-[100px] h-[100px] sm:left-[350px] sm:top-[150px]  xs:left-[200px] xs:top-[130px] xs:w-[60px] xs:h-[60px] sm:w-[141px] sm:h-[141px]  z-0" />
            </div>

            <div class="relative w-full sm:w-[530px] pt-[34px]   flex items-center ">
                <div class="absolute  left-0 right-0 bg-[#FDBF0F] bottom-[-10px] h-[42px] rounded-[20px] z-[-1]"></div>

                <input   id="searchInput" type="search"  class="text-gray relative right-[4px]  font-syne h-[42px] border-[2px] border-gray-300 px-[20px] py-[13px] rounded-[20px] text-[14px] focus:outline-none focus:ring-2 focus:ring-blue-500 w-full pr-[40px] placeholder:text-gray placeholder:font-[400]" placeholder="Type the name of book or author...">

                <button class="flex items-center justify-between">
                    <img src="./icon/find.png" alt="Search" class="w-[18px] h-[18px] absolute right-[23px]">
                </button>
            </div>

            <div class="flex justify-between items-center  pt-[34px]">
                <div class="relative flex flex-col lg:flex-row justify-center items-center w-full lg:justify-between md:gap-[24px] ">
                    <div class="flex gap-[20px]">
                        <a id="find-btn" href="#find" class="relative w-full xs:w-[103px] h-[51px] flex items-center justify-center gap-[20px] border-[2px] px-[27px] py-[16px] bg-yellow rounded-[10px] border-gray-800">
                            <p class="text-gray text-[16px] font-syne">Find</p>
                            <img src="./icon/find.png" class="w-[24px] h-[19px]">
                        </a>
                        <a href="#popular" class="relative w-full sm:w-[153px] h-[51px] flex items-center justify-center gap-[20px] border-[2px] px-[27px] py-[16px]   bg-yellow rounded-[10px] border-gray-800">
                            <p  class="text-gray text-[16px] font-syne ">Explore </p>
                            <img src="./icon/Binoculars.png" class="w-[24px] h-[19px]">
                        </a>

                    </div>

                    <div class="w-full flex justify-center py-[25px]">
                        <div class="w-full border-b-2 border-dashed border-lightGray"></div>
                    </div>
                </div>

            </div>
        </div>
        <div class="relative pt-[105px] hidden lg:block   ">
            <!-- Голуба фігура -->
            <div class="absolute xl:top-[70px] lg:top-[129px] right-[43px] xxl:w-[484px] xxl:h-[503px] xl:w-[384px] xl:h-[403px] lg:w-[284px] lg:h-[303px] bg-customBlue rounded-custom z-[-1]">
            </div>

            <!-- Зображення -->
            <img src="./img/photo.jpg" class="relative  xl:top-0 lg:top-[60px] xxl:w-[484px] xxl:h-[503px] xl:w-[384px] xl:h-[403px] lg:w-[284px] lg:h-[303px]">
        </div>
    </div>

    <section id="popular" class=" pt-[220px]">
        <div id="search-results-wrapper" class="pt-[50px] pb-[100px] hidden">
            <div class="flex flex-col items-center justify-center gap-[10px]">
                <p class="text-[36px] font-[400] font-unica text-gray leading-[1.2]">Search Results</p>
                <div class="flex gap-[9px]">
                    <img src="./icon/Start.png" class="w-[16px] h-[16px]">
                    <p class="text-[14px] font-syne font-[400] leading-[1.2] text-lightGray">Drag to explore</p>
                </div>
            </div>
            <div class="flex justify-center items-center pt-[30px]">
                <div id="search-results" class="w-full h-[410px] border-2 border-dashed overflow-x-auto border-gray-400 rounded-[20px] px-4 flex justify-around items-center">
                    <div class="flex min-w-max gap-[100px]"></div>
                </div>
            </div>
        </div>
        <div class="flex flex-col items-center justify-center gap-[10px]">
            <p class="text-[36px] font-[400] font-unica text-gray leading-[1.2]">Trending Books</p>
            <div class="flex gap-[9px]">
                <img src="./icon/Start.png" class="w-[16px] h-[16px]">
                <p class="text-[14px] font-syne font-[400] leading-[1.2] text-lightGray">Drag to explore</p>
            </div>
        </div>
        <div class="flex justify-center items-center pt-[30px] ">
            <div id="books" class="w-full h-[410px] border-2 border-dashed overflow-x-auto border-gray-400 rounded-[20px] px-4 flex justify-around items-center">
                <div class="flex min-w-max gap-[100px]">
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                    <div class="border-2 rounded-[10px] bg-gray-300 w-[187px] h-[279px] flex-shrink-0 shadow-myshadow"></div>
                </div>
            </div>
        </div>
        <div class="pt-[200px]">
            <div class="flex items-center gap-[10px]">
                <img src="./icon/FOLDER_NOTCH_OPEN.png" class="w-[28px] h-[21px]">
                <p class="text-[36px] text-gray font-unica leading-[1.2] font-[400]">Categories</p>
            </div>
            <div id="category-list-container" class="relative mt-10">
                <div class="relative mt-10 overflow-hidden">
                    <div class="relative h-[220px] w-full">
                        <!-- Кнопки навігації -->
                        <button id="prev-btn" class="absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 bg-black text-white p-2 rounded-full shadow-md hover:bg-gray-800 z-10 w-10 h-10 flex items-center justify-center">
                            ←
                        </button>

                        <!-- Контейнер слайдера -->
                        <div id="category-list-wrapper" class="h-full mx-12 sm:mx-16 md:mx-20 overflow-hidden">
                            <div id="category-list" class="grid pr-[15px] grid-cols-1 sm:grid-cols-2 xl:grid-cols-2 grid-rows-2 gap-x-4 gap-y-6 sm:gap-x-6 md:gap-x-8 xl:gap-y-4 h-full transition-transform">
                                <!-- Категорії жанрів будуть додаватися тут -->
                            </div>
                        </div>


                        <button id="next-btn" class="absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 bg-black text-white p-2 rounded-full shadow-md hover:bg-gray-800 z-10 w-10 h-10 flex items-center justify-center">
                            →
                        </button>
                    </div>
                </div>



            </div>

            <!-- для другої форми-->
            <div id="modalOverlay1" class="fixed flex justify-center items-center inset-0  hidden z-[200] transition-opacity duration-300">
                <div id="modalContent1" class="relative bg-white p-6  rounded-xl shadow-lg  scale-95 opacity-0 transition-all duration-300">
                    <button id="closeForm1" class="absolute top-4 right-4 text-gray-500 hover:text-black text-xl font-bold">&times;</button>
                    <form id="orderForm1">
                        <h2 class="text-2xl font-semibold mb-4 font-syne">ORDER FORM</h2>
                        <div class="flex pb-[10px] flex-col lg:flex-row xs:justify-center lg:justify-between  ">
                            <!-- Контент (ліворуч) -->
                            <div id="modalBookPreview1" class="xs:w-[300px] lg:w-1/2 mt-4 bg-gray-100 rounded p-4 overflow-y-auto lg:max-h-[500px] xs:max-h-[200px]" >
                                <!-- Тут зображення книги або інший контент -->
                                <p>Book preview goes here</p>
                            </div>

                            <!-- Форма (праворуч) -->
                            <div class="xs:w-full lg:w-1/2 flex flex-col lg:pl-[30px] xs:pl-0 gap-[10px] ">
                                <div class="flex flex-col">
                                    <label for="firstName1" class="block mb-1 font-syne border-t-[2px]">Name:</label>
                                    <input type="text" id="firstName1" name="firstName" class="border lg:p-2 xs:p-1.5 rounded" required placeholder="your name">
                                </div>

                                <div class="flex flex-col">
                                    <label for="lastName1" class="block mb-1 font-syne">Surname:</label>
                                    <input type="text" id="lastName1" name="lastName" class="border lg:p-2 xs:p-1.5 rounded" required placeholder="your surname">
                                </div>


                                <div class="flex flex-col">
                                    <label for="email1" class="block mb-1 font-syne">Email:</label>
                                    <input type="email" id="email1" name="email" class="border lg:p-2 xs:p-1.5 rounded" required placeholder="your email">
                                </div>

                                <div class="flex flex-col">
                                    <label for="phone1" class="block mb-1 font-syne">Phone number:</label>
                                    <input type="tel" id="phone1" name="phone" class="border lg:p-2 xs:p-1.5 rounded" required placeholder="your phone number">
                                </div>


                                <div class="flex flex-col">
                                    <label for="address1" class="block mb-1 font-syne">Address:</label>
                                    <input type="text" id="address1" name="address" class="border lg:p-2 xs:p-1.5 rounded" required placeholder="your address">
                                </div>

                                <div class="flex flex-col ">
                                    <label for="message1" class="block mb-1 font-syne">Notes:</label>
                                    <textarea id="message1" name="message" class="border lg:p-2 xs:p-1.5 rounded" rows="2" placeholder="write additional notes"></textarea>
                                </div>
                            </div>

                        </div>

                        <!-- Кнопка -->
                        <button type="submit" class=" order-btn leading-[1.2] border-black border-[2px] bg-orange-500 text-white px-4 py-2 rounded-[2] w-full" style="display: flex; border: 2px solid black; border-radius: 20px; justify-content: center; align-items: center; color: black; font-size: 20px ">Place an order</button>
                    </form>


                    <!-- Після відправки -->
                    <p id="successMsg1" class="hidden flex justify-center text-green-600 font-syne font-semibold text-[30px] mt-4">Order accepted ✅</p>
                </div>
            </div>

            <!-- Контейнер для відображення книг -->
            <div id="books-container" class="mt-10">
                <!-- Тут будуть книги, що відображаються в залежності від категорії -->
            </div>

            <div id="books-display">
                <div class="flex min-w-max gap-[100px]">
                    <!-- Тут будуть додаватися картки книг -->
                </div>
            </div>


        </div>





        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const genreButtons = document.querySelectorAll('.genre-button');
                const bookSections = document.querySelectorAll('[id$="-books"]');

                genreButtons.forEach(button => {
                    button.addEventListener('click', function(event) {
                        event.preventDefault();

                        const genre = this.dataset.genre;
                        const targetId = `${genre}-books`;
                        const targetSection = document.getElementById(targetId);



                        // Приховуємо всі розділи з книгами
                        bookSections.forEach(section => {
                            section.classList.add('hidden', 'opacity-0');
                        });

                        // Показуємо обраний розділ
                        if (targetSection) {
                            targetSection.classList.remove('hidden');
                            setTimeout(() => {
                                targetSection.classList.add('opacity-100');
                            }, 50);
                            targetSection.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });

                // ховаю всі розділи з книгами при завантаженні сторінки
                bookSections.forEach(section => {
                    section.classList.add('hidden', 'opacity-0');
                });
            });
            // модалка
            document.getElementById('firstName1').addEventListener('input', function () {

                this.value = this.value.replace(/[^a-zA-Zа-яА-ЯёЁ]/g, '');
            });

            document.getElementById('lastName1').addEventListener('input', function () {

                this.value = this.value.replace(/[^a-zA-Zа-яА-ЯёЁ]/g, '');
            });

            document.getElementById('phone1').addEventListener('input', function () {

                this.value = this.value.replace(/[^0-9]/g, '');
            });


            document.addEventListener('DOMContentLoaded', function() {
                fetch('./modal.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('modal-container').innerHTML = html;
                    })
                    .then(() => {
                        initializeModal(); // Викликаємо тільки після повної вставки HTML
                    })
                    .catch(error => console.error('Помилка завантаження модалки:', error));
            });


            function initializeModal() {
                const openSavedModalButton = document.getElementById('openSavedModal');
                const savedModal = document.getElementById('savedModal');
                const closeModalButton = document.getElementById('closeModal');
                const savedBooksList = document.getElementById('savedBooksList');
                const openCartModalButton = document.getElementById('openCartModal');
                const cartModal = document.getElementById('cartModal');
                const closeCartModalButton = document.getElementById('closeCartModal');


                savedModal.classList.add('hidden');
                cartModal.classList.add('hidden');

                // події для відкриття та закриття модалки кошика
                openCartModalButton.addEventListener('click', () => {
                    cartModal.classList.remove('hidden');
                    loadCartBooks();
                });

                closeCartModalButton.addEventListener('click', () => {
                    cartModal.classList.add('hidden');
                });

                //події для відкриття та закриття модалки збережених книг
                openSavedModalButton.addEventListener('click', () => {
                    savedModal.classList.remove('hidden');
                    loadSavedBooks();
                });

                closeModalButton.addEventListener('click', () => {
                    savedModal.classList.add('hidden');
                });

                // Додавання нової книги
                const saveButton = document.querySelector('.infoBook button');
                saveButton.addEventListener('click', () => {
                    const bookImg = document.getElementById('book-img').src;
                    const bookTitle = document.getElementById('book-title').innerText;
                    const bookAuthor = document.getElementById('book-author').innerText;
                    const bookPrice = document.getElementById('book-price').innerText;

                    const bookData = {
                        img: bookImg,
                        title: bookTitle,
                        author: bookAuthor,
                        price: bookPrice,
                        quantity: 1 // кількість книги
                    };

                    // перевірка на вже існуючу книгу в localStorage
                    let savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];

                    //  чи є така книга в списку
                    const existingBook = savedBooks.find(book => book.title === bookTitle);

                    if (existingBook) {
                        // Якщо книга вже є в списку, збільшуємо кількість
                        existingBook.quantity++;
                    } else {
                        // Якщо книги немає в списку, додаємо нову
                        savedBooks.push(bookData);
                    }

                    // Збереження оновленого списку книг в localStorage
                    localStorage.setItem('savedBooks', JSON.stringify(savedBooks));

                    // Оновлення списку в модалці після додавання
                    loadSavedBooks();
                });
            }

            function loadSavedBooks() {
                const savedBooksList = document.getElementById('savedBooksList');
                const savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];

                // Очищаємо список перед оновленням
                savedBooksList.innerHTML = '';

                if (savedBooks.length === 0) {
                    savedBooksList.innerHTML = '' +
                        '<div class="flex pt-[30px]">' +
                        '<p class="font-syne pt-[20px] text-orange-500 text-[30px] font-500">The list is empty ☹️</p></div>';
                } else {
                    savedBooks.forEach(book => {
                        const bookElement = document.createElement('div');
                        bookElement.classList.add('flex', 'gap-[20px]', 'p-[10px]', 'mb-2');

                        bookElement.innerHTML = `
<div class="border-gray pb-[40px] flex lg:p-[26px] xs:p-[10px] border-2 border-dashed rounded-[20px] lg:w-[416px] xs:w-[300px] xs:h-[150px] lg:h-[200px]">
    <div class="book border-2 rounded-[20px] lg:max-w-[103px] lg:h-[150px] xs:h-[114px] xs:max-w-[93px] bg-gray-300">
        <img src="${book.img}" alt="Book cover" class="rounded-[18px] lg:h-full xs:h-[110px] lg:max-w-[100px] xs:max-w-[90px]" />
    </div>
    <div class="flex flex-col">
        <div class="flex lg:gap-[40px] xs:gap-[15px] text-start">
            <div class="flex flex-col lg:gap-[12px] xs:gap-[6px]">
                <p class="scrollName flex pl-[31px] text-gray text-[18px] font-[400] leading-[1.2] font-syne">${book.title}</p>
                <p class="scrollAuthor flex pl-[31px] text-gray text-[16px] font-[400] leading-[1.2] font-syne">${book.author}</p>
            </div>
            <div class="text-orange text-[24px] pr-[20px] font-[400] font-syne leading-[1.2]">
                ${book.price}
            </div>
        </div>
        <div class="flex justify-end flex-col h-full lg:pt-[20px] xs:pt-[15px]">
            <div class="flex justify-between lg:gap-[40px] xs:gap-[10px]">
                <div class="flex relative items-center w-full lg:pl-[31px] xs:pl-[10px] lg:h-[35px] xs:h-[15px] lg:gap-[8px] xs:gap-[5px]">
                    <button class="decreaseQuantity xs:max-w-[15px]">
                        <img src="./icon/MINUS_CIRCLE.png" class="lg:w-[16px] xs:w-[40px] h-[16px]">
                    </button>
                    <div class="flex xs:max-w-[30px] lg:max-w-[80px] leading-[1.2] justify-center items-center w-[52px] lg:h-[35px] xs:h-[25px] border-2 rounded-[10px] border-gray lg:text-[18px] xs:text-[13px] font-syne font-[400] text-gray">
                        ${book.quantity}
                    </div>
                    <button class="increaseQuantity xs:max-w-[15px]">
                        <img src="./icon/PLUS_CIRCLE.png" class="lg:w-[16px] xs:w-[40px] h-[16px]">
                    </button>

                    <div class="pl-[10px] flex items-center gap-[8px]">
                        <button class="flex justify-center items-center w-[45px] h-[45px] removeBook">
                            <img src="./icon/TRASH.png" class="w-[28px] h-[30px]" alt="">
                        </button>
                        <button class="flex justify-center items-center w-[45px] h-[45px] movecard">
                            <img src="./icon/SHOPPINGCART.png" class="w-[26px] h-[22px]" alt="">
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>`;


                        // Додавання елементу в список
                        savedBooksList.appendChild(bookElement);

                        // Додавання функції для видалення книги
                        const removeButton = bookElement.querySelector('.removeBook');
                        removeButton.addEventListener('click', () => {
                            const index = savedBooks.indexOf(book);
                            if (index > -1) {
                                savedBooks.splice(index, 1);
                                localStorage.setItem('savedBooks', JSON.stringify(savedBooks));
                                loadSavedBooks(); // Оновлюємо список
                            }
                        });

                        // Додавання функцій для зміни кількості
                        const increaseButton = bookElement.querySelector('.increaseQuantity');
                        const decreaseButton = bookElement.querySelector('.decreaseQuantity');

                        increaseButton.addEventListener('click', () => {
                            book.quantity++;
                            updateBookQuantity(book);
                            loadSavedBooks(); // Оновлюємо список після зміни кількості
                        });

                        decreaseButton.addEventListener('click', () => {
                            if (book.quantity > 1) {
                                book.quantity--;
                                updateBookQuantity(book);
                                loadSavedBooks();
                            }
                        });
                        function showToast(message) {
                            const toast = document.getElementById('toast');
                            toast.innerText = message;
                            toast.classList.remove('hidden');
                            toast.classList.add('flex');

                            setTimeout(() => {
                                toast.classList.add('hidden');
                                toast.classList.remove('flex');
                            }, 3000);
                        }

                        // функці для переміщення книги в корзину
                        const moveCardButton = bookElement.querySelector('.movecard');
                        moveCardButton.addEventListener('click', () => {
                            let cartBooks = JSON.parse(localStorage.getItem('cartBooks')) || [];

                            const existingCartBook = cartBooks.find(cartBook => cartBook.title === book.title);

                            if (existingCartBook) {
                                existingCartBook.quantity += book.quantity;
                            } else {
                                cartBooks.push(book);
                            }

                            localStorage.setItem('cartBooks', JSON.stringify(cartBooks));

                            let savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];
                            savedBooks = savedBooks.filter(savedBook => savedBook.title !== book.title);
                            localStorage.setItem('savedBooks', JSON.stringify(savedBooks));

                            loadSavedBooks();

                            showToast('The book moved to cart! 🛒');
                        });
                    });
                }
            }

            function updateBookQuantity(book) {
                let savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];
                const bookIndex = savedBooks.findIndex(savedBook => savedBook.title === book.title);
                if (bookIndex > -1) {
                    // Перевірка на undefined або null
                    if (savedBooks[bookIndex].quantity === undefined || savedBooks[bookIndex].quantity === null) {
                        savedBooks[bookIndex].quantity = 1;
                    }
                    savedBooks[bookIndex].quantity = book.quantity;
                    localStorage.setItem('savedBooks', JSON.stringify(savedBooks));
                }
            }

            document.getElementById('myButton').addEventListener('click', function() {
                let button = this;

                button.classList.add('yellow-bg');


                setTimeout(function() {
                    button.classList.remove('yellow-bg');
                }, 3000);
            });


            function loadCartBooks() {
                const cartBooksList = document.getElementById('cartBooksList');
                const cartBooks = JSON.parse(localStorage.getItem('cartBooks')) || [];

                cartBooksList.innerHTML = '';

                if (cartBooks.length === 0) {
                    cartBooksList.innerHTML = '<div class="flex pt-[30px]"><p class="font-syne pt-[20px] text-orange-500 text-[30px] font-500">Your cart is empty 🛒</p></div>';
                } else {
                    let totalPrice = 0; // Змінна для підрахунку загальної ціни
                    let totalQuantity = 0; // Змінна для підрахунку загальної кількості книг

                    cartBooks.forEach((book, index) => {
                        const bookElement = document.createElement('div');
                        bookElement.classList.add('flex', 'gap-[20px]', 'p-[10px]', 'mb-2');

                        bookElement.innerHTML = `
<div class="border-gray pb-[40px]   flex lg:p-[26px] xs:p-[10px] border-2 border-dashed rounded-[20px] lg:w-[416px] xs:w-[300px] lg:h-[210px] xs:h-[150px]">
    <div class="book border-2 rounded-[20px] lg:max-w-[103px] lg:h-[150px] xs:h-[114px] xs:max-w-[93px] bg-gray-300">
        <img src="${book.img}" alt="Book cover" class="rounded-[18px] lg:h-full xs:h-[110px] lg:max-w-[100px] xs:max-w-[90px]" />
    </div>
    <div class="flex flex-col">
        <div class="flex lg:gap-[40px] xs:gap-[15px] text-start">
            <div class="flex flex-col lg:gap-[12px] xs:gap-[6px]">
                <p class="flex scrollName pl-[31px] text-gray text-[15px] font-[400] leading-[1.2] font-syne">${book.title}</p>
                <p class="flex scrollAuthor pl-[31px] text-gray text-[15px] font-[400] leading-[1.2] font-syne">${book.author}</p>
            </div>
            <div class="text-orange text-[24px] font-[400] font-syne leading-[1.2]">
                ${book.price}
            </div>
        </div>
        <div class="flex justify-end flex-col h-full lg:pt-[20px] xs:pt-[35px]">
            <div class="flex justify-between lg:gap-[150px] xs:gap-[60px]">
                <div class="flex relative items-center lg:pb-0 xs:pb-[52px] w-full lg:pl-[31px] xs:pl-[10px] lg:h-[35px] xs:h-[15px] lg:gap-[12px] xs:gap-[7px]">
                    <button class="decreaseQuantity xs:max-w-[15px]">
                        <img src="./icon/MINUS_CIRCLE.png" class="lg:w-[16px] xs:w-[40px] h-[16px]">
                    </button>
                    <div class="flex xs:max-w-[30px] lg:max-w-[80px] leading-[1.2] justify-center items-center w-[52px] lg:h-[35px] xs:h-[25px] border-2 rounded-[10px] border-gray lg:text-[18px] xs:text-[13px] font-syne font-[400] text-gray">
                        ${book.quantity}
                    </div>
                    <button class="increaseQuantity xs:max-w-[15px]">
                        <img src="./icon/PLUS_CIRCLE.png" class="lg:w-[16px] xs:w-[40px] h-[16px]">
                    </button>

                    <button class="flex justify-center  items-center w-[50px] h-[50px] removeBook" data-index="${index}">
                        <img src="./icon/TRASH.png" class="w-[30px] h-[32px]" alt="">
                     </button>

                </div>
            </div>
        </div>
    </div>
</div>`;

                        cartBooksList.appendChild(bookElement);

                        const price = parseFloat(book.price.replace('$', ''));
                        const quantity = parseInt(book.quantity);

                        if (!isNaN(price) && !isNaN(quantity)) {
                            totalPrice += price * quantity;
                            totalQuantity += quantity;
                        } else {
                            console.error(`шось не число: ${book.title}`, book);
                        }
                    });

                    // Виведення загальної ціни та кількості книг внизу
                    const totalElement = document.createElement('div');
                    totalElement.classList.add('flex', 'justify-between', 'mt-2', 'p-2', 'border-t', 'border-gray-300');
                    totalElement.innerHTML = `
        <div class="font-syne text-[25px] flex items-center">
            <span class="font-syne text-[20px] ">Books:</span> ${totalQuantity}
        </div>
        <div class="flex items-center gap-[30px]">
            <div class="font-syne text-[20px]  ">Total price:</div>

            <div class="font-syne text-orange-500 text-[30px]">
            $${totalPrice.toFixed(2)}
            </div>
        </div>

`;
                    cartBooksList.appendChild(totalElement);
                }

                // обробники для кнопок збільшення та зменшення кількості
                const decreaseButtons = document.querySelectorAll('.decreaseQuantity');
                decreaseButtons.forEach((button, index) => {
                    button.addEventListener('click', () => {
                        updateQuantity(index, -1);
                    });
                });

                const increaseButtons = document.querySelectorAll('.increaseQuantity');
                increaseButtons.forEach((button, index) => {
                    button.addEventListener('click', () => {
                        updateQuantity(index, 1);
                    });
                });

                //  обробник для кнопки видалення
                const removeButtons = document.querySelectorAll('.removeBook');
                removeButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const index = button.getAttribute('data-index'); // отримуємо індекс книги
                        removeBookFromCart(index);
                    });
                });
            }

            // Функція для оновлення кількості книги в кошику
            function updateQuantity(index, change) {
                const cartBooks = JSON.parse(localStorage.getItem('cartBooks')) || [];
                if (cartBooks[index]) {
                    const newQuantity = Math.max(1, parseInt(cartBooks[index].quantity) + change);
                    if (!isNaN(newQuantity)) {
                        cartBooks[index].quantity = newQuantity;
                        localStorage.setItem('cartBooks', JSON.stringify(cartBooks));
                        loadCartBooks(); // Перезавантажуємо кошик для відображення змін
                        // Оновлюємо дані про кількість в localStorage 'savedBooks', якщо потрібно
                        updateSavedBooksQuantity(cartBooks[index]);
                    } else {
                        console.error(`Некоректне значення кількості.`);
                    }
                }
            }

            // Функція для оновлення кількості в 'savedBooks'
            function updateSavedBooksQuantity(updatedBook) {
                let savedBooks = JSON.parse(localStorage.getItem('savedBooks')) || [];
                const savedBookIndex = savedBooks.findIndex(book => book.title === updatedBook.title);
                if (savedBookIndex > -1) {
                    savedBooks[savedBookIndex].quantity = updatedBook.quantity;
                    localStorage.setItem('savedBooks', JSON.stringify(savedBooks));
                }
            }

            // Функція видалення книги з кошика
            function removeBookFromCart(index) {
                const cartBooks = JSON.parse(localStorage.getItem('cartBooks')) || [];

                const updatedCartBooks = cartBooks.filter((book, i) => i !== parseInt(index));

                localStorage.setItem('cartBooks', JSON.stringify(updatedCartBooks));

                loadCartBooks();
            }

            loadCartBooks();



        </script>


    </section>
    <section class="pt-[220px] w-full">
        <div>

                <div class="w-full border-b-2 border-dashed border-lightGray"></div>

            <div class="pt-[44px] flex md:justify-between items-center gap-[24px] justify-center pb-[100px] flex-col sm:flex-row  sm:items-center">
                <p class="text-[20px] font-syne font-[400] text-lightGray leading-[1.2] mb-4 sm:mb-0">BookStore Project</p>
                <div class="flex gap-[24px]  flex-row items-start">
                    <a href="https://www.linkedin.com/in/%D0%B2%D1%96%D0%BA%D1%82%D0%BE%D1%80%D1%96%D1%8F-%D1%82%D0%BE%D0%BB%D1%81%D1%82%D0%B0%D1%8F-11038a356/" class="relative block w-[48px] h-[48px]">
                        <div class="flex justify-center items-center w-[48px] h-[48px] border-2 border-lightGray rounded-[100px] z-10 bg-white">
                            <img src="./icon/LINKEDINLOGO.png" class="w-[23px] h-[23px] ">
                        </div>
                        <div class="absolute top-[5px] left-[4px] w-[48px] h-[48px] bg-sky-500 rounded-[100px] -z-10"></div>
                    </a>

                    <a href="https://github.com/Vviktoriyya" class="relative block w-[48px] h-[48px]">
                        <div class="flex justify-center items-center w-[48px] h-[48px] border-2 border-lightGray rounded-[100px] z-10 bg-white">
                            <img src="./icon/GITHUBLOGO.png" class="w-[22px] h-[25px] ">
                        </div>
                        <div class="absolute top-[5px] left-[4px] w-[48px] h-[48px] bg-sky-500 rounded-[100px] -z-10"></div>
                    </a>

                    <a href="https://www.figma.com/design/8GbCwAfp9NLq1zWIAgZPpo/BookStore--Short-Project---Community-?node-id=63-2407&p=f&t=KYnPaKQ8ZJHXLu4e-0" class="relative block w-[48px] h-[48px]">
                        <div class="flex justify-center items-center w-[48px] h-[48px] border-2 border-lightGray rounded-[100px] z-10 bg-white">
                            <img src="./icon/FIGMALOGO.png" class="w-[17px] h-[26px] ">
                        </div>
                        <div class="absolute top-[5px] left-[4px] w-[48px] h-[48px] bg-sky-500 rounded-[100px] -z-10"></div>
                    </a>
                </div>
                <p class="text-[20px] font-syne font-[400] text-lightGray leading-[1.2] mt-4 sm:mt-0">by viktoriya tolstaya</p>
            </div>
            </div>

    </section>


</div>


<script src="./app.js"></script>
<script src="./formAllBooks.js"></script>

</body>
</html>